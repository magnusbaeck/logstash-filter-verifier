input {
  file {
    path => "/var/log/db_logs_logstash/*.csv"
    mode => "read"
    file_completed_action => "delete"
    id => "file1"
    tags => [ "file1" ]
  }
}

input {
  file {
    path => "/var/log/db_logs_logstash/*.csv"
    mode => "read"
    file_completed_action => "delete"
    id => "file2"
    tags => [ "file2" ]
  }
}

filter {
  if "file1" in [tags] {
    csv {
        separator => ";"
        autodetect_column_names => true
        skip_empty_columns => true
        id => csv1
    }
  }

  if "file2" in [tags] {
    csv {
        separator => ";"
        autodetect_column_names => true
        skip_empty_columns => true
        id => csv2
    }
  }
}

output {
  stdout {
    id => "stdout"
  }
}
